<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Findora ‚Äì Ir√°nyt mutat a legjobb aj√°nlatokhoz</title>

<style>
:root{ --primary:#003366;--primary2:#1a4b8c;--gold:#ffd166;
  --text:#111;--muted:#6b7280;--card:rgba(255,255,255,0.9);--border:#e5e7eb;}
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:system-ui,Segoe UI,Roboto,Inter,Arial,sans-serif;background:#f9fafc;color:var(--text)}
a{text-decoration:none;color:#0a66c2} a:hover{text-decoration:underline}

/* HEADER ‚Äì kompaktabb */
.hero{
  position:relative;width:100%;
  min-height:clamp(120px,22vh,160px);
  background:
    linear-gradient(90deg,#1a4b8c,#003366),
    url("assets/img/findora-header.png") center 35%/cover no-repeat;
  display:flex;align-items:center;color:#fff;text-shadow:0 2px 5px rgba(0,0,0,.3);
}
.hero-content{max-width:1100px;margin:auto;padding:12px;display:flex;flex-direction:column;gap:8px;text-align:center}
.brand{display:flex;gap:10px;align-items:center;justify-content:center}
.brand img.logo{height:40px;width:auto;border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,.15)}
.hero-text h1{font-size:clamp(20px,3.6vw,32px);color:var(--gold)}
.hero-text p{font-size:clamp(13px,1.6vw,16px)}

.promo-banner{background:linear-gradient(90deg,#ffcc80,#ffd166,#ffe9b3);color:#111;padding:7px 10px;
  font-weight:600;border-radius:10px;margin-bottom:8px;box-shadow:0 2px 6px rgba(0,0,0,.08)}

/* Keres≈ë */
.searchbar{display:flex;gap:8px;flex-wrap:wrap;background:rgba(255,255,255,0.15);
  padding:8px;border-radius:12px;backdrop-filter:blur(2px);justify-content:center}
.searchbar input,.searchbar button{padding:9px 10px;border-radius:10px;border:none;font-size:14px}
.searchbar input{flex:1;min-width:200px;max-width:320px}
.searchbar button{background:var(--gold);font-weight:700;color:#111;cursor:pointer}

/* OLDALS√ÅVOK */
.sidebar{position:fixed;top:50%;transform:translateY(-50%);width:130px;padding:12px;border-radius:12px;
  color:#fff;font-weight:700;text-align:center;box-shadow:0 4px 12px rgba(0,0,0,.25);z-index:10;
  writing-mode:vertical-rl;text-orientation:mixed;transition:.3s;cursor:pointer;opacity:.9}
.sidebar:hover{transform:translateY(-50%) scale(1.05);opacity:1}
.sidebar-left{left:10px;background:linear-gradient(180deg,#b71c1c,#ef5350)}
.sidebar-right{right:10px;background:linear-gradient(180deg,#000,#444);color:#ffd166}
@media(max-width:900px){.sidebar{display:none}}

/* MAIN */
main{max-width:1100px;margin:26px auto;padding:0 16px}
.section{background:rgba(255,255,255,.7);border:1px solid rgba(255,255,255,.2);border-radius:12px;margin-bottom:26px;
  box-shadow:0 3px 8px rgba(0,0,0,.05);backdrop-filter:blur(4px)}
.section h2{font-size:20px;padding:12px 16px;background:#e2e8f0;border-radius:12px 12px 0 0;display:flex;align-items:center;gap:10px}
.section img.logo{height:20px;width:auto}
.grid{display:grid;gap:18px;padding:16px;grid-template-columns:repeat(auto-fill,minmax(270px,1fr))}

/* K√°rty√°k */
.card{background:var(--card);border:1px solid var(--border);border-radius:14px;overflow:hidden;display:flex;flex-direction:column;position:relative;transition:transform .25s, box-shadow .25s;height:360px}
.card:hover{transform:translateY(-5px);box-shadow:0 8px 18px rgba(0,0,0,.15)}
.thumb{height:180px;background:#e8eef7 position:relative;overflow:hidden}
.thumb img{width:100%;height:100%;object-fit:cover;display:block}
.badge{position:absolute;top:8px;left:8px;background:#ff4d4f;color:#fff;font-weight:700;padding:4px 8px;border-radius:6px;font-size:12px}
.body{padding:12px;flex-grow:1}
.title{font-weight:700;margin-bottom:4px}
.muted{color:var(--muted);font-size:12px;display:flex;align-items:center;gap:6px}
.muted img{width:16px;height:16px;object-fit:contain}
.price{font-weight:800;margin-top:8px}
.cta{margin-top:auto;padding:12px;text-align:center}
.cta a{display:inline-block;background:var(--gold);padding:8px 12px;border-radius:8px;color:#111;font-weight:600}

.section.deals25 h2{background:linear-gradient(90deg,#ffe0b2,#ffcc80)}
.section.deals50 h2{background:linear-gradient(90deg,#ffcdd2,#ef9a9a)}

footer{text-align:center;padding:22px;background:var(--primary);color:#fff;margin-top:34px;font-size:14px}
</style>
</head>
<body>

<!-- OLDALS√ÅVOK -->
<div class="sidebar sidebar-left" onclick="scrollToDeals('deals25')">üéÑ Kar√°csonyi aj√°nlatok</div>
<div class="sidebar sidebar-right" onclick="scrollToDeals('deals50')">üñ§ Black Friday</div>

<header class="hero">
  <div class="hero-content">
    <div class="brand">
      <img class="logo" src="assets/img/findora_mark.png" alt="Findora log√≥">
      <div class="hero-text">
        <h1>Findora</h1>
        <p>Ir√°nyt mutat a legjobb aj√°nlatokhoz</p>
      </div>
    </div>
    <div class="promo-banner">üéÅ K√©sz√ºlj az √ºnnepekre! ‚Äì üõçÔ∏è Black Friday akci√≥k is el√©rhet≈ëk!</div>
    <form id="searchForm" class="searchbar">
      <input id="q" type="search" placeholder="Keres√©s: pl. laptop, LEGO, wellness‚Ä¶">
      <button type="submit">Keres√©s</button>
    </form>
  </div>
</header>

<main id="content"></main>

<footer>¬© 2025 Findora ‚Ä¢ Az oldalon affiliate linkek lehetnek. K√∂sz√∂nj√ºk a t√°mogat√°st!</footer>

<script>
/* ===== PARTNER LINKEK (eMAG n√©lk√ºl) ===== */
const AMAZON_TAG="findora30-20";
const amazon = q => `https://www.amazon.com/s?k=${encodeURIComponent(q)}&tag=${AMAZON_TAG}`;
const alza    = q => `https://www.alza.hu/search.htm?exps=${encodeURIComponent(q)}`;
const booking = q => `https://www.booking.com/searchresults.html?ss=${encodeURIComponent(q)}`;

/* ===== ALAP T√âTELEK ===== */
const ITEMS=[
  {title:"Olcs√≥ laptop",partner:"Amazon",price:"129 990 Ft",discount:25,url:amazon("laptop"),thumb:"https://images.unsplash.com/photo-1517336714731-489689fd1ca8?q=80&w=800"},
  {title:"Gaming laptop",partner:"Amazon",price:"299 990 Ft",discount:10,url:amazon("gaming laptop"),thumb:"https://images.unsplash.com/photo-1606813902917-cc9d9b0caa94?q=80&w=800"},
  {title:"Okos√≥ra akci√≥k",partner:"Alza",price:"39 990 Ft",discount:50,url:alza("okosora"),thumb:"https://images.unsplash.com/photo-1517433456452-f9633a875f6f?q=80&w=800"},
  {title:"Vezet√©k n√©lk√ºli f√ºlhallgat√≥",partner:"Amazon",price:"17 990 Ft",discount:15,url:amazon("wireless earbuds"),thumb:""},
  {title:"Budapest wellness h√©tv√©ge",partner:"Booking",price:"√År v√°ltoz√≥",discount:30,url:booking("Budapest wellness"),thumb:""},
  {title:"LEGO Creator Expert",partner:"Amazon",price:"59 990 Ft",discount:60,url:amazon("LEGO creator"),thumb:"https://images.unsplash.com/photo-1586201375761-83865001e31b?q=80&w=800"},
  {title:"Robotporsz√≠v√≥",partner:"Alza",price:"89 990 Ft",discount:40,url:alza("robotporszivo"),thumb:""},
  {title:"TV & Sz√≥rakoz√°s",partner:"Amazon",price:"119 990 Ft",discount:55,url:amazon("smart tv"),thumb:"https://images.unsplash.com/photo-1512445239393-63e626ac6b86?q=80&w=800"}
];

/* ===== LOG√ìK (helyi) ===== */
const logos={
  "Amazon":"assets/img/amazon.png",
  "Alza":"assets/img/alza.png",
  "Booking":"assets/img/booking.png"
};

/* ===== K√âP-FALLBACK MECHANIZMUS ===== */
const unsplash = q => `https://source.unsplash.com/800x600/?${encodeURIComponent(q)}`;
/** besz√∫r egy <img>-et primary src-vel; ha 2.5s alatt nem t√∂lt be VAGY hib√°zik,
 *  automatikusan √°tv√°lt a fallback-re (Unsplash). */
function imgWithFallbackHTML(id, primary, fallback, alt){
  const safePrimary = (primary && primary.trim()) ? primary.trim() : fallback;
  return `<img id="${id}" src="${safePrimary}" data-fallback="${fallback}" alt="${alt}" loading="lazy">`;
}
function armFallbackTimer(imgEl){
  const fallbackSrc = imgEl.dataset.fallback;
  let swapped = false;
  const swap = ()=>{ if(!swapped){ imgEl.src = fallbackSrc; swapped = true; } };
  const t = setTimeout(()=>{ if(!imgEl.complete || imgEl.naturalWidth===0) swap(); }, 2500);
  imgEl.addEventListener('error', swap);
  imgEl.addEventListener('load', ()=>{ clearTimeout(t); });
}

/* ===== RENDER ===== */
const content=document.getElementById("content");
const form=document.getElementById("searchForm");
const q=document.getElementById("q");
form.addEventListener("submit",e=>{ e.preventDefault(); const v=q.value.trim().toLowerCase(); v?showSearch(v):showHome(); });

let IMG_ID=0;
function cardHTML(item){
  const id = `img_${++IMG_ID}`;
  const badge = item.discount>=25 ? `<span class="badge">-${item.discount}%</span>` : "";
  const partnerLogo = logos[item.partner] ? `<img src="${logos[item.partner]}" alt="${item.partner}">` : "";
  const fallback = unsplash(item.title || item.partner || "shopping");
  const imgTag = imgWithFallbackHTML(id, item.thumb, fallback, item.title);
  // a timer bek√∂t√©se ut√≥lag t√∂rt√©nik (renderSection-ben)
  return `
  <div class="card">
    ${badge}
    <div class="thumb">${imgTag}</div>
    <div class="body">
      <div class="title">${item.title}</div>
      <div class="muted">${partnerLogo} ${item.partner}</div>
      <div class="price">${item.price}</div>
    </div>
    <div class="cta"><a href="${item.url}" target="_blank" rel="nofollow sponsored noopener">Megnyit√°s</a></div>
  </div>`;
}

async function renderSection(title, items, id, extraClass=""){
  if(!items.length) return;
  const s=document.createElement("section");
  s.className=`section ${extraClass}`.trim();
  if(id) s.id=id;
  s.innerHTML=`<h2>${title}</h2><div class="grid"></div>`;
  const grid=s.querySelector(".grid");
  for (const it of items){
    grid.insertAdjacentHTML("beforeend", cardHTML(it));
    const lastImg = grid.lastElementChild.querySelector("img");
    armFallbackTimer(lastImg);
  }
  content.appendChild(s);
}

async function showHome(){
  content.innerHTML="";
  const deals25 = ITEMS.filter(i=>i.discount>=25 && i.discount<50);
  const deals50 = ITEMS.filter(i=>i.discount>=50);
  await renderSection("üéÅ Akci√≥s aj√°nlatok (25‚Äì49%)", deals25, "deals25", "deals25");
  await renderSection("üî• Nagy kedvezm√©nyek (50%+)", deals50, "deals50", "deals50");
  for (const p of ["Amazon","Alza","Booking"]){
    const list = ITEMS.filter(i=>i.partner===p);
    const logo = logos[p] ? `<img src="${logos[p]}" class="logo" alt="${p}"> ` : "";
    await renderSection(`${logo}${p} aj√°nlatok`, list);
  }
}

async function showSearch(val){
  content.innerHTML=`<section class="section"><h2>Keres√©s: ‚Äû${val}‚Äù</h2><div class="grid"></div></section>`;
  const grid=content.querySelector(".grid");
  const results=ITEMS.filter(i=>i.title.toLowerCase().includes(val)||i.partner.toLowerCase().includes(val));
  if(!results.length){ grid.innerHTML=`<p>Nincs tal√°lat. Pr√≥b√°ld m√°s kifejez√©ssel.</p>`; return; }
  for (const it of results){
    grid.insertAdjacentHTML("beforeend", cardHTML(it));
    armFallbackTimer(grid.lastElementChild.querySelector("img"));
  }
}

function scrollToDeals(id){ const el=document.getElementById(id); if(el) el.scrollIntoView({behavior:'smooth',block:'start'}); }
showHome();
</script>
</body>
</html>
