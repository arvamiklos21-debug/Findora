<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Findora ‚Äì Ir√°nyt mutat a legjobb aj√°nlatokhoz</title>
  <meta name="description" content="Findora ‚Äì Ir√°nyt≈± a legjobb online aj√°nlatokhoz. Keres√©s, sz≈±r√©s √©s partnerlinkek: Amazon, Alza, Booking." />
  <link rel="icon" href="assets/img/favicon.png" />
  <style>
    :root{
      --bg:#0b4da3; --bg2:#0e61d3; --txt:#0b1b33; --card:#ffffff; --muted:#6b7a90;
      --brand:#ffd14d; --ok:#20b26b; --warn:#ff7a59; --ring:rgba(14,97,211,.15);
      --radius:16px; --shadow: 0 8px 24px rgba(2,17,37,.08);
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Ubuntu,Arial,sans-serif;color:var(--txt);background:#f6f8fb}
    a{color:inherit;text-decoration:none}
    img{display:block;max-width:100%}
    .container{max-width:1100px;margin:0 auto;padding:0 16px}
    /* header / hero */
    header{background:linear-gradient(135deg,var(--bg),var(--bg2)); color:#fff}
    .topbar{display:flex;align-items:center;gap:16px; padding:16px 0}
    .logo{display:flex;align-items:center;gap:10px;font-weight:800}
    .logo img{width:36px;height:36px}
    .tagline{opacity:.85;font-weight:600}
    .hero{padding:24px 0 28px}
    .hero h1{margin:0 0 10px;font-size:28px;letter-spacing:.2px}
    .searchbar{display:flex;gap:10px;align-items:center;background:#fff;border-radius:999px;padding:8px 10px;box-shadow:var(--shadow)}
    .searchbar input{flex:1;border:none;outline:none;font-size:16px;padding:10px 12px;border-radius:999px}
    .searchbar button{border:none;background:var(--brand);color:#2a2500;font-weight:700;padding:10px 16px;border-radius:999px;cursor:pointer}
    /* tabs */
    .tabs{display:flex;gap:8px;flex-wrap:wrap;margin:16px 0}
    .tab{padding:8px 12px;border-radius:999px;background:#fff;color:#123;box-shadow:0 1px 2px rgba(2,17,37,.06) inset;border:1px solid #e6edf6;cursor:pointer;font-weight:600}
    .tab.active{background:#e8f1ff;border-color:#cfe3ff;color:#0b4da3}
    /* grid */
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    @media(max-width:980px){.grid{grid-template-columns:repeat(2,1fr)}}
    @media(max-width:640px){.grid{grid-template-columns:1fr}}
    /* card */
    .card{position:relative;background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden;border:1px solid #eef3f9}
    .card .cover{height:150px;background:#f2f6fc;display:flex;align-items:center;justify-content:center}
    .card .cover img{max-height:100%;object-fit:cover}
    .card .body{padding:14px}
    .title{font-weight:700;line-height:1.2;margin:0 0 8px}
    .meta{display:flex;justify-content:space-between;align-items:center;color:var(--muted);font-size:13px;margin-bottom:10px}
    .price{font-weight:800;color:#081a39}
    .badge{position:absolute;top:10px;left:10px;background:#fff;border-radius:999px;padding:5px 9px;font-weight:800;font-size:12px;border:1px solid #e9eef6}
    .badge.save{color:#0a7a4f;border-color:#cfeee2;background:#f2fbf7}
    .badge.cut{right:10px;left:auto;color:#b5471d;border-color:#ffe0d7;background:#fff6f3}
    .brandtag{display:inline-flex;align-items:center;gap:6px;font-size:12px;color:var(--muted)}
    .brandtag img{width:16px;height:16px}
    .actions{display:flex;gap:10px;margin-top:8px}
    .btn{flex:1;text-align:center;border-radius:10px;padding:10px 12px;font-weight:700;border:1px solid #e6edf6;background:#fff;cursor:pointer}
    .btn.primary{background:var(--brand);border-color:#e8c03c}
    /* sidebar notes (akci√≥k/√ºnnepek) */
    .layout{display:grid;grid-template-columns:1fr 280px;gap:22px;margin-top:22px}
    @media(max-width:980px){.layout{grid-template-columns:1fr}}
    .note{background:#fff;border:1px dashed #dfe8f6;border-radius:14px;padding:16px;box-shadow:var(--shadow)}
    .note h3{margin:0 0 6px}
    .note small{color:var(--muted)}
    /* footer */
    footer{margin:36px 0 28px;color:var(--muted);font-size:13px}
    .sr{position:absolute;clip:rect(1px,1px,1px,1px);padding:0;border:0;height:1px;width:1px;overflow:hidden}
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="topbar">
        <div class="logo">
          <img src="assets/img/findora_mark.png" alt="Findora log√≥" />
          <div>
            <div style="font-size:18px;line-height:1">FINDORA</div>
            <div class="tagline">Ir√°nyt mutat a legjobb aj√°nlatokhoz</div>
          </div>
        </div>
      </div>

      <div class="hero">
        <h1>Ir√°nyt mutat a legjobb aj√°nlatokhoz</h1>
        <form class="searchbar" id="searchForm">
          <label class="sr" for="q">Keres√©s</label>
          <input id="q" name="q" placeholder="Keress: pl. laptop, okos√≥ra, porsz√≠v√≥‚Ä¶" />
          <button type="submit">Keres√©s</button>
        </form>
        <div class="tabs" id="tabs">
          <button class="tab active" data-partner="all">Mind</button>
          <button class="tab" data-partner="amazon">Amazon</button>
          <button class="tab" data-partner="alza">Alza</button>
          <button class="tab" data-partner="booking">Booking</button>
        </div>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="layout">
      <section>
        <h2 style="margin:18px 0 12px">Friss aj√°nlatok</h2>
        <div class="grid" id="results"></div>
      </section>

      <aside>
        <div class="note" style="margin-bottom:14px">
          <h3>üéÅ Kar√°csony k√∂zeleg</h3>
          <p>Aj√°nd√©k√∂tletek minden p√©nzt√°rc√°ra ‚Äî n√©zd meg az √ºnnepi inspir√°ci√≥t!</p>
          <small>Tippek: okoseszk√∂z√∂k, LEGO, konyhai g√©pek, parf√ºm√∂k‚Ä¶</small>
        </div>
        <div class="note">
          <h3>üñ§ Black Friday (nov.)</h3>
          <p>Nagy le√°raz√°sok el≈ëtt ‚Äì jel√∂ld be a k√≠v√°ns√°glist√°t √©s haszn√°ld a kedvencek k√∂vet√©s√©t!</p>
          <small>√Årfigyel√©shez tipp: rendeld sorba a tal√°latokat ‚Äû√°r szerint‚Äù.</small>
        </div>
      </aside>
    </div>

    <footer>
      <p>Megjegyz√©s: partnerlinkeket haszn√°lunk. Ha a link√ºnk√∂n kereszt√ºl v√°s√°rolsz/ foglalsz, jutal√©kot kaphatunk ‚Äì neked ez nem ker√ºl t√∂bbe.</p>
    </footer>
  </main>

  <script>
    // ====== Partner link alapok ======
    const amazonTag = "findora30-20";
    const amazonBase = "https://www.amazon.com/s?k="; // keres≈ëre vissz√ºk a felhaszn√°l√≥t
    const alzaBase   = "#"; // TODO: AWIN/ALZA j√≥v√°hagy√°s ut√°n kicser√©lj√ºk
    const bookingBase= "#"; // TODO: CJ j√≥v√°hagy√°s ut√°n kicser√©lj√ºk

    // ====== Minta adatok (am√≠g nincs √©l≈ë feed) ======
    // Itt nyugodtan b≈ëv√≠theted; a kedvezm√©ny sz√°zal√©k alapj√°n jelv√©ny jelenik meg.
    const seed = [
      {
        title: "Gaming laptop",
        partner: "amazon",
        priceHUF: 299990,
        img:"assets/img/samples/laptop.png",
        discount: 15,
        q:"gaming laptop"
      },
      {
        title: "TV & Soundbar szett",
        partner: "amazon",
        priceHUF: 119990,
        img:"assets/img/samples/tv.png",
        discount: 25,
        q:"tv soundbar"
      },
      {
        title: "Okos√≥ra",
        partner: "alza",
        priceHUF: 17990,
        img:"assets/img/samples/watch.png",
        discount: 40,
        q:"okos√≥ra"
      },
      {
        title: "H√©tv√©gi pihen√©s ‚Äì Als√≥√∂rs",
        partner: "booking",
        priceHUF: 35990,
        img:"assets/img/samples/hotel.png",
        discount: 23,
        q:"Balaton weekend"
      }
    ];

    // ====== Keres√©s, sz≈±r√©s, render ======
    const resultsEl = document.getElementById("results");
    const tabsEl = document.getElementById("tabs");
    let activePartner = "all";
    let query = "";

    function formatHUF(x){
      return x.toLocaleString("hu-HU") + " Ft";
    }

    function partnerLink(item){
      const q = encodeURIComponent(item.q || item.title);
      if(item.partner === "amazon"){
        return `${amazonBase}${q}&tag=${amazonTag}`;
      }
      if(item.partner === "alza"){
        return alzaBase; // k√©s≈ëbb: konkr√©t AWIN deep link
      }
      if(item.partner === "booking"){
        return bookingBase; // k√©s≈ëbb: CJ deeplink
      }
      return "#";
    }

    function brandIcon(partner){
      const map = {
        amazon: "assets/img/brands/amazon.png",
        alza: "assets/img/brands/alza.png",
        booking: "assets/img/brands/booking.png"
      };
      return map[partner] || "assets/img/brands/generic.png";
    }

    function render(){
      resultsEl.innerHTML = "";
      const list = seed
        .filter(it => activePartner === "all" ? true : it.partner === activePartner)
        .filter(it => query ? (it.title.toLowerCase().includes(query) || (it.q||"").toLowerCase().includes(query)) : true);

      if(list.length === 0){
        resultsEl.innerHTML = `<div style="grid-column:1/-1;background:#fff;border:1px solid #eef3f9;border-radius:14px;padding:18px;text-align:center">Nincs tal√°lat. Pr√≥b√°lj m√°s kulcssz√≥t (pl. ‚Äûlaptop‚Äù, ‚Äûlego‚Äù, ‚Äûparf√ºm‚Äù).</div>`;
        return;
      }

      for(const it of list){
        const a = document.createElement("a");
        a.href = partnerLink(it);
        a.target = "_blank";
        a.rel = "noopener sponsored";
        a.className = "card";
        a.innerHTML = `
          <div class="badge save">‚Äì${it.discount}%</div>
          <div class="cover">
            <img src="${it.img}" alt="${it.title}" onerror="this.style.opacity=.15" />
          </div>
          <div class="body">
            <h3 class="title">${it.title}</h3>
            <div class="meta">
              <span class="brandtag"><img src="${brandIcon(it.partner)}" alt=""> ${it.partner}</span>
              <span class="price">${formatHUF(it.priceHUF)}</span>
            </div>
            <div class="actions">
              <div class="btn">R√©szletek</div>
              <div class="btn primary">Megnyit√°s</div>
            </div>
          </div>
        `;
        resultsEl.appendChild(a);
      }
    }

    // Tabs
    tabsEl.addEventListener("click", (e)=>{
      const b = e.target.closest(".tab");
      if(!b) return;
      Array.from(tabsEl.querySelectorAll(".tab")).forEach(t=>t.classList.remove("active"));
      b.classList.add("active");
      activePartner = b.dataset.partner;
      render();
    });

    // Keres√©s
    document.getElementById("searchForm").addEventListener("submit",(e)=>{
      e.preventDefault();
      query = (document.getElementById("q").value || "").trim().toLowerCase();
      render();
    });

    // Els≈ë render
    render();
  </script>
<script>
  // 1) Egyszer≈±, be√°gyazott (data URI) tartal√©k k√©p ‚Äì nincs k√ºl√∂n f√°jl
  const FALLBACK_IMG =
    'data:image/svg+xml;utf8,' +
    encodeURIComponent(`
      <svg xmlns="http://www.w3.org/2000/svg" width="600" height="400">
        <defs>
          <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="#e9eef6"/>
            <stop offset="1" stop-color="#cbd7eb"/>
          </linearGradient>
        </defs>
        <rect width="100%" height="100%" fill="url(#g)"/>
        <g fill="#6b7280" font-family="Arial,Helvetica,sans-serif" text-anchor="middle">
          <circle cx="300" cy="165" r="36" fill="#9aa6bf"/>
          <rect x="210" y="220" width="180" height="14" rx="7" fill="#9aa6bf"/>
          <text x="300" y="265" font-size="16">K√©p nem el√©rhet≈ë</text>
        </g>
      </svg>
    `);

  // 2) URL-normaliz√°l√≥: // -> https://, http:// -> https://
  function fixImgUrl(u) {
    if (!u) return '';
    if (u.startsWith('//')) return 'https:' + u;
    if (u.startsWith('http://')) return 'https://' + u.slice(7);
    return u;
  }

  // 3) Glob√°lis onerror: ha b√°rmely <img> hib√°zik, cser√©lj√ºk fallbackre
  document.addEventListener('error', function (e) {
    const t = e.target;
    if (t && t.tagName === 'IMG') {
      t.onerror = null;
      t.src = FALLBACK_IMG;
      t.classList.add('img-fallback');
    }
  }, true);

  // 4) Oldal bet√∂lt√©sekor minden <img> src-j√©t https-re igaz√≠tjuk
  window.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('img').forEach(img => {
      const fixed = fixImgUrl(img.getAttribute('src'));
      if (fixed && fixed !== img.src) img.src = fixed;
    });
  });
</script>
<style>
  /* A fallback k√©phez finom keret/√°rny√©k, hogy ne legyen ‚Äút√∂r√∂tt‚Äù hat√°s */
  .img-fallback { outline: 1px solid rgba(0,0,0,.06); border-radius: 10px; }
</style>
</body>
</html>

