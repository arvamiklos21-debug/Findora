<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Findora ‚Äì Ir√°nyt mutat a legjobb aj√°nlatokhoz</title>
  <meta name="description" content="A Findora seg√≠t megtal√°lni a legjobb akci√≥kat √©s aj√°nlatokat: Amazon, Alza, About You, Booking √©s m√°s partnerek kedvezm√©nyei egy helyen." />
  <meta name="keywords" content="Findora, akci√≥, kupon, kedvezm√©ny, Amazon, Alza, About You, Booking, olcs√≥ laptop, cip≈ë, ruha, wellness" />
  <meta name="robots" content="index,follow,max-image-preview:large" />
  <link rel="canonical" href="https://arvamiklos21.github.io/Findora/" />
  <link rel="alternate" href="https://arvamiklos21.github.io/Findora/" hreflang="hu" />
  <meta name="google-site-verification" content="vDPKx3UXBaAFpEBO4fQXqrX8bXr6mjlogt8qUr" />
  <link rel="icon" href="assets/img/findora_mark.png" />

  <!-- OG -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Findora" />
  <meta property="og:title" content="Findora ‚Äì Ir√°nyt mutat a legjobb aj√°nlatokhoz" />
  <meta property="og:description" content="V√°logatott akci√≥k √©s aj√°nlatok magyar felhaszn√°l√≥knak. Amazon, Alza, About You, Booking √©s m√°s partnerek." />
  <meta property="og:url" content="https://arvamiklos21.github.io/Findora/" />
  <meta property="og:image" content="https://arvamiklos21.github.io/Findora/assets/img/findora-header.png" />
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Findora ‚Äì Ir√°nyt mutat a legjobb aj√°nlatokhoz" />
  <meta name="twitter:description" content="A legjobb akci√≥k √©s kuponok egy helyen. N√©zd meg a Findora v√°logat√°sait!" />
  <meta name="twitter:image" content="https://arvamiklos21.github.io/Findora/assets/img/findora-header.png" />
  <!-- Schema.org -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Findora",
    "url": "https://arvamiklos21.github.io/Findora/",
    "description": "V√°logatott akci√≥k √©s aj√°nlatok magyar felhaszn√°l√≥knak.",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://arvamiklos21.github.io/Findora/?q={search_term_string}",
      "query-input": "required name=search_term_string"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Findora",
      "logo": {
        "@type": "ImageObject",
        "url": "https://arvamiklos21.github.io/Findora/assets/img/findora-header.png"
      }
    }
  }
  </script>

  <!-- K√©p-h√°l√≥ kapcsolatok: gyorsabb bet√∂lt√©s -->
  <link rel="preconnect" href="https://images.unsplash.com" crossorigin>
  <link rel="preconnect" href="https://source.unsplash.com" crossorigin>
  <link rel="dns-prefetch" href="https://images.unsplash.com">
  <link rel="dns-prefetch" href="https://source.unsplash.com">

  <style>
    :root{
      --primary:#0b3a78;      /* k√©k fejl√©c */
      --primary-2:#1556a6;
      --gold:#ffd166;
      --text:#111;
      --muted:#6b7280;
      --card:rgba(255,255,255,0.94);
      --border:#e5e7eb;
      --cta1:#ffd166;
      --cta2:#ffcc80;
      --panel:#ffffffd0;
      --xmas-red:#b11d2a;
      --xmas-green:#0b6e4f;
    }

    *{box-sizing:border-box;margin:0;padding:0}
    a{color:#0a66c2;text-decoration:none}
    a:hover{text-decoration:underline}

    /* === √únnepi h√°tt√©r ‚Äì feny≈ë√°gak, √©g≈ësor, m√©zeskal√°cs (finoman) === */
    body{
      font-family:system-ui,Segoe UI,Roboto,Inter,Arial,sans-serif;
      color:var(--text);
      /* piros t√≥nus√∫ alap + d√≠sz√≠tett SVG overlay */
      background:
        radial-gradient(60vw 60vh at 15% -10%, #ffe8b5 0%, transparent 60%),
        radial-gradient(60vw 60vh at 85% -10%, #cfe2ff 0%, transparent 60%),
        linear-gradient(180deg, #fff6f6 0%, #fff 40%, #fff 100%);
      background-attachment:fixed;
      overflow-x:hidden;
    }
    /* dekor mint√°zat: feny≈ë/√©g≈ësor/gingerbread */
    body::after{
      content:"";
      position:fixed; inset:0; z-index:0; pointer-events:none;
      background-image:
        url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="800">
          <defs>
            <g id="pine"><path d="M30 60 l20 -35 l20 35 l-12 0 l12 20 l-40 0 l12 -20z" fill="%230b6e4f" opacity="0.25"/></g>
            <g id="bulb"><circle cx="8" cy="8" r="6" fill="%23ffd166" opacity="0.35"/></g>
            <g id="cookie"><rect x="0" y="0" rx="6" ry="6" width="18" height="18" fill="%23d97706" opacity="0.25"/></g>
          </defs>
          <g>
            <use href="#pine" x="60" y="80"/>
            <use href="#pine" x="980" y="120"/>
            <use href="#pine" x="260" y="200"/>
            <use href="#cookie" x="1120" y="240"/>
            <use href="#cookie" x="420" y="120"/>
            <use href="#bulb" x="220" y="30"/>
            <use href="#bulb" x="1060" y="60"/>
          </g>
        </svg>');
      background-size:cover;
      opacity:.8;
    }

    /* HERO */
    .hero{
      position:relative; z-index:2; /* a snow f√∂l√© m√©g rakunk k√ºl√∂n r√©teget */
      width:100%;
      color:#fff;
      display:flex;align-items:center;justify-content:center;text-align:center;
      padding:16px 10px 22px;
      background:linear-gradient(90deg,var(--primary-2),var(--primary));
      box-shadow: inset 0 -6px 30px rgba(255, 209, 102, .25);
      overflow:hidden;
      border-bottom-left-radius:16px;border-bottom-right-radius:16px;
    }
    /* finom kar√°csonyi g√∂mb√∂k a fejl√©cben */
    .hero::before{
      content:"";
      position:absolute; right:8%; top:8px; width:180px; height:180px;
      background:
        radial-gradient(circle at 65% 30%, #ffd166 0 14px, transparent 16px),
        radial-gradient(circle at 40% 70%, #e63946 0 14px, transparent 16px),
        radial-gradient(circle at 80% 60%, #2a9d8f 0 12px, transparent 14px);
      opacity:.35; filter:blur(.5px); pointer-events:none;
    }
    .hero::after{
      content:"";
      position:absolute; left:8%; top:0; width:200px; height:200px;
      background:
        radial-gradient(circle at 50% 45%, #fff 0 2px, transparent 3px),
        radial-gradient(circle at 20% 75%, #fff 0 2px, transparent 3px),
        radial-gradient(circle at 80% 60%, #fff 0 2px, transparent 3px);
      opacity:.15; pointer-events:none;
    }

    .dev-badge{
      position:absolute; left:12px; top:12px; z-index:3;
      background:#10b981; color:#fff; padding:6px 10px; border-radius:10px;
      font-weight:700; font-size:13px; box-shadow:0 2px 6px rgba(0,0,0,.2);
    }
    .hero-inner{max-width:1100px;width:100%}
    .brand{display:flex;gap:12px;align-items:center;justify-content:center;margin-bottom:8px}
    .brand img{height:46px;border-radius:10px;background:#123;box-shadow:0 2px 6px rgba(0,0,0,.2)}
    .hero h1{font-size:clamp(20px,3.5vw,32px);color:#ffd166}
    .hero p{font-size:clamp(13px,1.7vw,16px)}
    .promo{
      margin:10px auto 12px;
      background:linear-gradient(90deg,#ffcc80,#ffd166,#ffe9b3);
      color:#111;padding:7px 10px;border-radius:12px;max-width:880px;font-weight:600;
      box-shadow:0 4px 10px rgba(0,0,0,.12);
    }

    /* Kateg√≥ria s√°v */
    .categories{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin:10px auto 0}
    .catbtn{border:1px solid #d1d5db;background:#fff;border-radius:999px;padding:8px 12px;cursor:pointer;font-weight:600;font-size:14px}
    .catbtn:hover{background:#f5f6f8}
    .catbtn.active{background:linear-gradient(90deg,var(--cta1),var(--cta2));color:#111;border-color:#f6d27a}

    /* KERES≈ê */
    .searchbar{display:flex;gap:8px;flex-wrap:wrap;justify-content:center;margin-top:10px}
    .searchbar input,.searchbar button{padding:10px;border:none;border-radius:10px;font-size:14px}
    .searchbar input{
      min-width:220px;max-width:360px;flex:1; padding-left:36px;
      background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"><circle cx="8" cy="8" r="7" stroke="%236b7280" stroke-width="2" fill="none"/><line x1="13" y1="13" x2="18" y2="18" stroke="%236b7280" stroke-width="2"/></svg>');
      background-repeat:no-repeat;background-position:10px center;
    }
    .searchbar button{background:linear-gradient(90deg,var(--cta1),var(--cta2));color:#111;font-weight:700;cursor:pointer;box-shadow:0 2px 6px rgba(0,0,0,.15)}

    /* MAIN */
    main{max-width:1100px;margin:26px auto;padding:0 16px; position:relative; z-index:1}
    .section{
      background:var(--panel); border:1px solid rgba(255,255,255,.35); border-radius:14px;
      margin-bottom:22px; box-shadow:0 8px 24px rgba(0,0,0,.06); backdrop-filter: blur(6px);
    }
    .section h2{font-size:18px;padding:10px 12px;background:#e8edf4;border-radius:14px 14px 0 0;display:flex;align-items:center;gap:10px}
    .section.deals25 h2{background:linear-gradient(90deg,#ffe0b2,#ffcc80)}
    .section.deals50 h2{background:linear-gradient(90deg,#ffcdd2,#ef9a9a)}
    .section.highlight h2{background:linear-gradient(90deg,#d1fae5,#a7f3d0)}
    .section img.logo{height:18px;width:auto}

    /* v√≠zszintes, h√∫zhat√≥ sorok */
    .grid{display:flex; gap:14px; padding:12px; overflow-x:auto; scroll-snap-type:x proximity}
    .card{min-width:240px; scroll-snap-align:start; background:var(--card);border:1px solid var(--border);border-radius:14px;overflow:hidden;display:flex;flex-direction:column;position:relative;height:300px;transition:transform .25s, box-shadow .25s}
    .card:hover{transform:translateY(-4px);box-shadow:0 12px 22px rgba(0,0,0,.12)}
    .thumb{height:150px;position:relative;background:#e8eef7;overflow:hidden}
    .thumb img{width:100%;height:100%;object-fit:cover;display:block}
    .badge{position:absolute;top:8px;left:8px;background:#ff4d4f;color:#fff;font-weight:700;padding:4px 8px;border-radius:6px;font-size:12px}
    .body{padding:10px;flex-grow:1}
    .title{font-weight:700;margin-bottom:4px;font-size:14px;line-height:1.25}
    .muted{color:var(--muted);font-size:12px;display:flex;align-items:center;gap:6px}
    .price{font-weight:800;margin-top:6px;font-size:14px}
    .cta{margin-top:auto;padding:10px;text-align:center}
    .cta a{display:inline-block;background:linear-gradient(90deg,var(--cta1),var(--cta2));padding:8px 12px;border-radius:8px;color:#111;font-weight:700;box-shadow:0 2px 6px rgba(0,0,0,.15)}

    /* Toolbar (keres√©sn√©l) */
    .toolbar{display:flex;gap:10px;align-items:center;justify-content:space-between;padding:10px 16px;background:#eef2f7;border-bottom:1px solid #e5e7eb;border-radius:12px 12px 0 0}
    .toolbtn{background:#fff;border:1px solid #d1d5db;border-radius:10px;padding:8px 12px;cursor:pointer;font-weight:600}
    .toolbtn:hover{background:#f5f6f8}

    footer{text-align:center;padding:22px;background:var(--primary);color:#fff;margin-top:30px;font-size:14px}

    /* H√≥es√©s ‚Äì MINDEN f√∂l√∂tt, de kattinthat√≥ maradjon a UI */
    .snow{pointer-events:none;position:fixed;inset:0;overflow:hidden;z-index:9999}
    .flake{position:absolute;top:-10px;width:6px;height:6px;border-radius:50%;background:rgba(255,255,255,0.95);filter:blur(.4px);animation:fall linear infinite}
    @keyframes fall{0%{transform:translateY(-10px)}100%{transform:translateY(110vh)}}
  </style>
</head>
<body>

  <!-- h√≥es√©s -->
  <div class="snow" aria-hidden="true"></div>

  <header class="hero">
    <span class="dev-badge">Folyamatos fejleszt√©s</span>
    <div class="hero-inner">
      <div class="brand">
        <img id="brandLogo" src="assets/img/findora-header.png"
             data-fallback1="assets/img/findora_mark.png"
             data-fallback2="https://upload.wikimedia.org/wikipedia/commons/3/3f/Compass_rose_simple.svg"
             alt="Findora log√≥" />
        <div>
          <h1>Findora</h1>
          <p>Ir√°nyt mutat a legjobb aj√°nlatokhoz</p>
        </div>
      </div>

      <div class="promo" role="note">üéÅ √únnepi szezon ‚Äì Black Friday √©s kar√°csonyi kedvezm√©nyek minden kateg√≥ri√°ban!</div>

      <!-- Kateg√≥ri√°k -->
      <nav class="categories" aria-label="Kateg√≥ri√°k">
        <button class="catbtn active" data-cat="all">√ñsszes</button>
        <button class="catbtn" data-cat="tech">üíª Tech</button>
        <button class="catbtn" data-cat="fashion">üëó Divat</button>
        <button class="catbtn" data-cat="travel">‚úàÔ∏è Utaz√°s</button>
        <button class="catbtn" data-cat="home">üè† Otthon</button>
        <button class="catbtn" data-cat="beauty">üíÑ Sz√©ps√©g</button>
      </nav>

      <!-- Keres≈ë -->
      <form id="searchForm" class="searchbar" role="search" action="">
        <input id="q" name="q" type="search" placeholder="√çrd be a keresett term√©ket‚Ä¶ (pl. smart tv, xbox, n≈ëi cip≈ë)" aria-label="Keres√©s" />
        <button type="submit" aria-label="Keres√©s ind√≠t√°sa">Keres√©s</button>
      </form>
    </div>
  </header>

  <main id="content"></main>

  <footer>¬© 2025 Findora ‚Ä¢ Az oldalon affiliate linkek lehetnek. Biztons√°gos partneroldalak: Amazon, About You, Alza, Booking.</footer>

  <script>
  /* ====== Link-gener√°torok (pontosabb c√©lz√°s) ====== */
  const AMAZON_TAG = "findora30-20";
  // Amazon: kulcssz√≥ + f≈ë kateg√≥ria + rendez√©s -> stabil tal√°lati oldal
  function amazonSearch({q, category="electronics", sort="review-rank", deals=false}){
    // sort: "price-asc-rank" | "price-desc-rank" | "review-rank" | "date-desc-rank" stb.
    const base = "https://www.amazon.com/s";
    const params = new URLSearchParams();
    params.set("k", q);
    params.set("i", category);         // pl. electronics, videogames, fashion-womens, etc.
    params.set("s", sort);
    // ‚ÄûToday's Deals‚Äù f√≥kusz (nem minden kulcssz√≥ra √©rhet≈ë el, de √°rtani nem √°rt)
    if(deals) params.set("rh","p_n_deal_type:23566065011");
    // affiliate
    params.set("tag", AMAZON_TAG);
    return `${base}?${params.toString()}`;
  }
  // Alza / AboutYou / Booking ‚Äì egyszer≈±, de pontos kulcssz√≥
  const alza     = q => `https://www.alza.hu/search.htm?exps=${encodeURIComponent(q)}`;
  const aboutyou = q => `https://www.aboutyou.hu/kereses?term=${encodeURIComponent(q)}`;
  const booking  = q => `https://www.booking.com/searchresults.html?ss=${encodeURIComponent(q)}`;

  const LOGO_URLS={
    Amazon:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg",
    Alza:"https://upload.wikimedia.org/wikipedia/commons/d/d2/Alza.cz_logo.svg",
    Booking:"https://upload.wikimedia.org/wikipedia/commons/e/e6/Booking.com_logo.svg",
    AboutYou:"https://upload.wikimedia.org/wikipedia/commons/7/79/About_You_logo.svg"
  };

  /* brand log√≥ fallback */
  (function(){
    const img=document.getElementById('brandLogo');
    let step=0;
    img.onerror=()=>{ step++; if(step===1) img.src=img.dataset.fallback1; else if(step===2) img.src=img.dataset.fallback2; };
  })();

  /* Stabil k√©pek (kur√°lt, fix URL-ek; nem random) */
  const IMG_MAP={
    "smart tv":"https://images.unsplash.com/photo-1517048676732-d65bc937f952?auto=format&fit=crop&w=1200&q=70",
    "gaming laptop":"https://images.unsplash.com/photo-1517336714731-489689fd1ca8?auto=format&fit=crop&w=1200&q=70",
    "laptop":"https://images.unsplash.com/photo-1481277542470-605612bd2d61?auto=format&fit=crop&w=1200&q=70",
    "okos√≥ra":"https://images.unsplash.com/photo-1517059224940-d4af9eec41e5?auto=format&fit=crop&w=1200&q=70",
    "f√ºlhallgat√≥":"https://images.unsplash.com/photo-1518446243830-b34b1d3b4d39?auto=format&fit=crop&w=1200&q=70",
    "n≈ëi cip≈ë":"https://images.unsplash.com/photo-1491553895911-0055eca6402d?auto=format&fit=crop&w=1200&q=70",
    "kab√°t":"https://images.unsplash.com/photo-1603251579431-8041402bdeda?auto=format&fit=crop&w=1200&q=70",
    "hotel":"https://images.unsplash.com/photo-1505691938895-1758d7feb511?auto=format&fit=crop&w=1200&q=70",
    "wellness":"https://images.unsplash.com/photo-1501117716987-c8e1ecb2101f?auto=format&fit=crop&w=1200&q=70",
  };
  function getImageFor(title){
    const t=title.toLowerCase();
    for(const k in IMG_MAP){ if(t.includes(k)) return IMG_MAP[k]; }
    // tartal√©k ‚Äì tematikus keres√©s
    return `https://images.unsplash.com/photo-1512389142860-9c449e58a543?auto=format&fit=crop&w=1200&q=70`;
  }

  /* Adatforr√°s ‚Äì PONTOS√çTOTT c√©loldalak */
  const ITEMS=[
    // TECH
    {title:"Smart TV -55%", partner:"Amazon", price:"119 990 Ft", discount:55, category:"tech",
      url: amazonSearch({q:'smart tv 4k', category:'electronics', sort:'price-asc-rank', deals:true})
    },
    {title:"Olcs√≥ laptop", partner:"Amazon", price:"129 990 Ft", discount:25, category:"tech",
      url: amazonSearch({q:'budget laptop 15.6"', category:'computers', sort:'price-asc-rank'})
    },
    {title:"Gaming laptop", partner:"Amazon", price:"299 990 Ft", discount:35, category:"tech",
      url: amazonSearch({q:'gaming laptop RTX', category:'computers', sort:'review-rank', deals:true})
    },
    {title:"Okos√≥ra akci√≥", partner:"Alza", price:"39 990 Ft", discount:40, category:"tech",
      url: alza("okos√≥ra akci√≥")
    },
    {title:"Vezet√©k n√©lk√ºli f√ºlhallgat√≥", partner:"Amazon", price:"17 990 Ft", discount:28, category:"tech",
      url: amazonSearch({q:'wireless headphones', category:'electronics', sort:'price-asc-rank', deals:true})
    },

    // DIVAT
    {title:"N≈ëi cip≈ëk -40%", partner:"AboutYou", price:"V√°ltoz√≥", discount:40, category:"fashion",
      url: aboutyou("n≈ëi sportcip≈ë akci√≥")
    },
    {title:"F√©rfi kab√°t -35%", partner:"AboutYou", price:"V√°ltoz√≥", discount:35, category:"fashion",
      url: aboutyou("f√©rfi t√©likab√°t akci√≥")
    },

    // UTAZ√ÅS
    {title:"Budapest wellness h√©tv√©ge", partner:"Booking", price:"V√°ltoz√≥", discount:30, category:"travel",
      url: booking("Budapest wellness hotel")
    },
    {title:"S√≠ h√©tv√©ge Ausztria", partner:"Booking", price:"V√°ltoz√≥", discount:25, category:"travel",
      url: booking("Austria ski resort")
    }
  ];

  /* K√°rtya ‚Äì robusztus k√©pkezel√©s */
  function cardHTML(it){
    const img=getImageFor(it.title);
    const badge=it.discount>=25?`<span class="badge">-${it.discount}%</span>`:"";
    const logo=LOGO_URLS[it.partner]?`<img src="${LOGO_URLS[it.partner]}" alt="${it.partner} log√≥" width="16" height="16" loading="lazy" decoding="async" style="object-fit:contain">`:"";

    const FALLBACK_IMG = "data:image/svg+xml;charset=UTF-8," + encodeURIComponent(
      `<svg xmlns='http://www.w3.org/2000/svg' width='800' height='600'>
         <rect width='100%' height='100%' fill='#e8eef7'/>
         <text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle'
               font-family='Arial' font-size='22' fill='#6b7280'>
           K√©p nem el√©rhet≈ë
         </text>
       </svg>`
    );

    return `<div class="card">
      ${badge}
      <div class="thumb">
        <picture>
          <source srcset="${img}" type="image/webp">
          <img src="${img}" alt="${it.title}" loading="lazy" decoding="async" width="800" height="600"
               onerror="this.onerror=null;this.src='${FALLBACK_IMG}';">
        </picture>
      </div>
      <div class="body">
        <div class="title">${it.title}</div>
        <div class="muted">${logo} ${it.partner}</div>
        <div class="price">${it.price}</div>
      </div>
      <div class="cta"><a href="${it.url}" target="_blank" rel="nofollow sponsored noopener">Megn√©zem</a></div>
    </div>`;
  }

  /* Renderel≈ë */
  const content=document.getElementById('content');

  function renderSection(title, items, extraClass="", id=""){
    if(!items.length)return;
    const s=document.createElement('section');
    s.className=`section ${extraClass}`.trim();
    if(id)s.id=id;
    s.innerHTML=`<h2>${title}</h2><div class="grid"></div>`;
    const g=s.querySelector('.grid');
    for(const it of items){ g.insertAdjacentHTML('beforeend', cardHTML(it)); }
    content.appendChild(s);
  }

  function renderTopDeals(){
    const top=[...ITEMS].sort((a,b)=>b.discount-a.discount).slice(0,3);
    renderSection("üèÜ A h√©t legjobb aj√°nlatai", top, "highlight", "topdeals");
  }

  function renderPartnerBlocks(items){
    const byPartner = items.reduce((acc, it)=>{
      (acc[it.partner] = acc[it.partner] || []).push(it);
      return acc;
    }, {});
    const partnersOrder = ["Amazon","Alza","AboutYou","Booking"];
    partnersOrder.forEach(p=>{
      const list = byPartner[p] || [];
      const MIN = 4;
      const filled = list.length >= MIN ? list : [...list, ...list, ...list].slice(0, Math.max(MIN, list.length));
      renderSection(`${p} aj√°nlatok`, filled, "", `sec-${p.toLowerCase()}`);
    });
  }

  function renderAll(src){
    const data = src ?? ITEMS;
    renderTopDeals();
    const deals25=data.filter(i=>i.discount>=25 && i.discount<50);
    const deals50=data.filter(i=>i.discount>=50);
    renderSection("üéÅ Akci√≥k 25‚Äì49%", deals25, "deals25", "deals25");
    renderSection("üî• Legnagyobb kedvezm√©nyek (50%+)", deals50, "deals50", "deals50");
    renderPartnerBlocks(data);
  }

  /* Kateg√≥riasz≈±r√©s */
  function showCategory(cat){
    document.querySelectorAll(".catbtn").forEach(b=>b.classList.toggle("active", b.dataset.cat===cat || (cat==="all" && b.dataset.cat==="all")));
    content.innerHTML="";
    if(cat==="all"){ renderAll(); return; }
    const list=ITEMS.filter(i=>i.category===cat);
    // partnerenk√©nt is bontjuk
    renderSection(`üîé Kateg√≥ria: ${catName(cat)}`, [], "", `cat-${cat}`);
    renderPartnerBlocks(list);
  }
  const catName=c=>({tech:"Tech",fashion:"Divat",travel:"Utaz√°s",home:"Otthon",beauty:"Sz√©ps√©g"}[c]||"√ñsszes");
  document.querySelectorAll(".catbtn").forEach(btn=>btn.addEventListener("click",()=>showCategory(btn.dataset.cat)));

  /* Keres≈ë ‚Äì pontosabb kulcsszavaz√°s */
  function showSearch(val){
    const v=val.toLowerCase().trim();
    const res=ITEMS.filter(i=>i.title.toLowerCase().includes(v) || i.partner.toLowerCase().includes(v));

    content.innerHTML=`
      <section class="section">
        <div class="toolbar">
          <button class="toolbtn" id="btnBack">‚Üê Vissza</button>
          <strong>Keres√©s: ‚Äû${val}‚Äù</strong>
          <button class="toolbtn" id="btnHome">üè† F≈ëoldal</button>
        </div>
        <div class="grid"></div>
      </section>`;
    document.getElementById('btnBack').onclick=()=>showCategory("all");
    document.getElementById('btnHome').onclick=()=>showCategory("all");
    const g=content.querySelector('.grid');

    if(res.length){ for(const it of res) g.insertAdjacentHTML('beforeend', cardHTML(it)); return; }

    // Ha nincs bels≈ë egyez√©s: partner-specifikus aj√°nlott keres√©sek
    const sugg=[];
    if(v.match(/cip≈ë|ruha|kab√°t|dzseki|p√≥l√≥|pul√≥ver/)) sugg.push({title:`Keres√©s az AboutYou-n: ${val}`,partner:"AboutYou",url:aboutyou(val),price:"",discount:0, category:"fashion"});
    if(v.match(/hotel|wellness|utaz√°s|sz√°ll√°s/)) sugg.push({title:`Keres√©s a Bookingon: ${val}`,partner:"Booking",url:booking(val),price:"",discount:0, category:"travel"});
    // Amazon: electronics alap, review-rank
    sugg.push({title:`Keres√©s az Amazonon: ${val}`,partner:"Amazon",url:amazonSearch({q:val, category:'electronics', sort:'review-rank'}),price:"",discount:0, category:"tech"});
    sugg.push({title:`Keres√©s az Alz√°n: ${val}`,partner:"Alza",url:alza(val),price:"",discount:0, category:"tech"});
    for(const it of sugg) g.insertAdjacentHTML('beforeend', cardHTML(it));
  }

  document.getElementById('searchForm').addEventListener('submit',e=>{
    e.preventDefault();
    const val=document.getElementById('q').value.trim();
    if(val) showSearch(val); else showCategory("all");
    window.scrollTo({top: document.querySelector('main').offsetTop, behavior:'smooth'});
  });

  /* indul√°s */
  const urlQ=new URLSearchParams(location.search).get('q');
  if(urlQ){ document.getElementById('q').value=urlQ; showSearch(urlQ); } else { renderAll(); }

  /* h√≥pelyhek ‚Äì s≈±r≈±bb + minden f√∂l√∂tt */
  (function snow(){
    const wrap=document.querySelector('.snow');
    const COUNT=70;
    for(let i=0;i<COUNT;i++){
      const f=document.createElement('div');
      f.className='flake';
      f.style.left = Math.random()*100 + 'vw';
      const dur = 7 + Math.random()*10;
      f.style.animationDuration = dur + 's';
      f.style.animationDelay = (Math.random()*-dur) + 's';
      f.style.opacity = (0.55 + Math.random()*0.45).toFixed(2);
      const size = 3 + Math.random()*5;
      f.style.width = f.style.height = size + 'px';
      wrap.appendChild(f);
    }
  })();
  </script>
</body>
</html>
